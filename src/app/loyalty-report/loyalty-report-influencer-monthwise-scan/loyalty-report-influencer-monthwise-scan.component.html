<div class="main-container">

  <div class="tools-container">
    <h2>USER MONTHLY SCAN</h2>
    <div class="left-auto df ac flex-gap-10">
      <button mat-icon-button matTooltip="Refresh" (click)="refresh()">
        <i class="material-icons">refresh</i>
      </button>
      <button mat-icon-button matTooltip="Filter" (click)="openBottomSheet()">
        <i class="material-icons">filter_alt</i>
      </button>

      <div class="pagination" *ngIf="secondaryProductReportList.length > 0">
        <div class="pagination-content">
          Pages
          <span>{{pagenumber}}</span>
          of
          <span>{{total_page}}</span>
        </div>
        <div class="page-nav">

          <button mat-icon-button matTooltip="Older" (click)="pervious()" [disabled]="start == 0 || total_page == 0">
            <i class="material-icons">navigate_before</i>
          </button>
          <button mat-icon-button matTooltip="Newer" (click)="nextPage()" [disabled]="pagenumber == total_page ">
            <i class="material-icons">navigate_next</i>
          </button>
        </div>
      </div>


    </div>
  </div>
  <div class="container container-scroll">
    <div class="cs-table horizontal-scroll">
      <div class="sticky-head">
        <div class="table-head">
          <table>
            <tr>
              <th class="w50 text-center" *ngIf="header_list[0]">{{header_list[0]}}</th>
              <th class="w100 text-center" *ngIf="header_list[1]">{{header_list[1]}}</th>
              <th class="w100 text-center" *ngIf="header_list[2]">{{header_list[2]}}</th>
              <th class="w100 text-center" *ngIf="header_list[3]">{{header_list[3]}}</th>
              <th class="w100 text-center" *ngIf="header_list[4]">{{header_list[4]}}</th>
              <th class="w100 text-center" *ngIf="header_list[5]">{{header_list[5]}}</th>
              <th class="w100 text-center" *ngIf="header_list[6]">{{header_list[6]}}</th>
              <th class="w100 text-center" *ngIf="header_list[7]">{{header_list[7]}}</th>
              <th class="w100 text-center" *ngIf="header_list[8]">{{header_list[8]}}</th>
              <th class="w100 text-center" *ngIf="header_list[9]">{{header_list[9]}}</th>
              <th class="w100 text-center" *ngIf="header_list[10]">{{header_list[10]}}</th>
              <th class="w100 text-center" *ngIf="header_list[11]">{{header_list[11]}}</th>
              <th class="w100 text-center" *ngIf="header_list[12]">{{header_list[12]}}</th>
              <th class="w100 text-center" *ngIf="header_list[13]">{{header_list[13]}}</th>
              <th class="w100 text-center" *ngIf="header_list[14]">{{header_list[14]}}</th>
              <th class="w100 text-center" *ngIf="header_list[15]">{{header_list[15]}}</th>
              <th class="w100 text-center" *ngIf="header_list[16]">{{header_list[16]}}</th>
              <th class="w100 text-center" *ngIf="header_list[17]">{{header_list[17]}}</th>
              <th class="w100 text-center" *ngIf="header_list[18]">{{header_list[18]}}</th>
              <th class="w100 text-center" *ngIf="header_list[19]">{{header_list[19]}}</th>
              <th class="w100 text-center" *ngIf="header_list[20]">{{header_list[20]}}</th>
              <th class="w100 text-center" *ngIf="header_list[21]">{{header_list[21]}}</th>
              <th class="w100 text-center" *ngIf="header_list[22]">{{header_list[22]}}</th>
              <th class="w100 text-center" *ngIf="header_list[23]">{{header_list[23]}}</th>
              <th class="w100 text-center" *ngIf="header_list[24]">{{header_list[24]}}</th>
              <th class="w100 text-center" *ngIf="header_list[25]">{{header_list[25]}}</th>
              <th class="w100 text-center" *ngIf="header_list[26]">{{header_list[26]}}</th>
              <th class="w100 text-center" *ngIf="header_list[27]">{{header_list[27]}}</th>
              <th class="w100 text-center" *ngIf="header_list[28]">{{header_list[28]}}</th>
              <th class="w100 text-center" *ngIf="header_list[29]">{{header_list[29]}}</th>
              <th class="w100 text-center" *ngIf="header_list[30]">{{header_list[30]}}</th>
              <th class="w100 text-center" *ngIf="header_list[31]">{{header_list[31]}}</th>
              <th class="w100 text-center" *ngIf="header_list[32]">{{header_list[32]}}</th>
              <th class="w100 text-center" *ngIf="header_list[33]">{{header_list[33]}}</th>
              <th class="w100 text-center" *ngIf="header_list[34]">{{header_list[34]}}</th>
              <th class="w100 text-center" *ngIf="header_list[35]">{{header_list[35]}}</th>
              <th class="w100 text-center" *ngIf="header_list[36]">{{header_list[36]}}</th>
              <th class="w100 text-center" *ngIf="header_list[37]">{{header_list[37]}}</th>
              <th class="w100 text-center" *ngIf="header_list[38]">{{header_list[38]}}</th>
              <th class="w100 text-center" *ngIf="header_list[39]">{{header_list[39]}}</th>
              <th class="w100 text-center" *ngIf="header_list[40]">{{header_list[40]}}</th>

            </tr>
          </table>
        </div>
        <!-- <div class="table-head bdrt">
          <table>
            <tr>
              <th class="w50">&nbsp;</th>
              <th class="w150"></th>
              <th class="w150"></th>
              <th class="w150"></th>
              <th class="w150"></th>
              <th class="w150"></th>
              <th class="w150"></th>
              <th class="w150"></th>
            </tr>
          </table>
        </div> -->
      </div>
      <div class="table-container" *ngIf="secondaryProductReportList.length">
        <div class="table-content">
          <table>
            <ng-container *ngIf="!loader">
              <tr *ngFor="let val of secondaryProductReportList; let i = index">
                <td class="w50">{{ i + sr_no + 1}}</td>
                <td class="w100 text-center">{{val.state}}</td>
                <td class="w100 text-center">{{val.total_influencer}}</td>
                <td class="w100 text-center" *ngFor="let val2 of val.month_wise_coupon_data;">
                    {{val2.total_coupon}}/{{val2.total_influencer_point}}
                </td>   
              </tr>
            </ng-container>
            <ng-container *ngIf="loader">
              <tr class="sk-loading" *ngFor="let row of [].constructor(10);">
                <td class="w50">
                  <div>&nbsp;</div>
                </td>
                <td class="w150">
                  <div>&nbsp;</div>
                </td>
                <td class="w200">
                  <div>&nbsp;</div>
                </td>
                <td class="w60">
                  <div>&nbsp;</div>
                </td>
                <td class="w120">
                  <div>&nbsp;</div>
                </td>
                <td class="w100">
                  <div>&nbsp;</div>
                </td>
                <td class="w100">
                  <div>&nbsp;</div>
                </td>
                <td class="w100">
                  <div>&nbsp;</div>
                </td>
                <td class="w100">
                  <div>&nbsp;</div>
                </td>
                <td class="w220">
                  <div>&nbsp;</div>
                </td>
                <td class="w100">
                  <div>&nbsp;</div>
                </td>
                <td class="padding0 w350">
                  <div>&nbsp;</div>
                </td>
              </tr>
            </ng-container>
          </table>
        </div>
      </div>
      <ng-container *ngIf="secondaryProductReportList.length == 0">
        <app-not-result-found></app-not-result-found>
      </ng-container>
    </div>
  </div>
  <div class="fab-btns">
    <button class="pulse excel" mat-fab color="primary" [matMenuTriggerFor]="menu"
      *ngIf="login_data.download_product_wise_secondary_report=='1'">
      <i class="material-icons">apps</i>
      Action
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="getproductWiseSecondaryReportExcel();"
        *ngIf="secondaryProductReportList.length > 0 && login_data.download_product_wise_secondary_report=='1'">
        <mat-icon>download</mat-icon>
        <span>Download in excel</span>
      </button>
    </mat-menu>
  </div>
</div>